<p-selectButton
  class="all-selectbutton"
  (onChange)="triggerUpdate(undefined)"
  (click)="closeAllAccordionTabs()"
  [(ngModel)]="allOptionsModel"
  [options]="[{label: allButtonOptionsLabel}]"
  optionLabel="label"
  onkeydown="closeAllAccordionTabs()"
>
</p-selectButton>

<p-accordion [activeIndex]="activeIndices">
  @for (item of dataToDisplay | keyvalue; track item.key) {
    <p-accordionTab
      [header]="item.key"
      [disabled]="disabled"
      (click)="toggleTab($index, $event)"
      onkeydown="toggleTab($index, $event)"
    >
      <p-selectButton
        [disabled]="disabled"
        [options]="item.value"
        [(ngModel)]="models[item.key]"
        (onChange)="triggerUpdate(item.key)"
        class="charset-selectbutton charset-selectbutton--{{ $index }}"
      >
      </p-selectButton>
    </p-accordionTab>
  }
</p-accordion>
