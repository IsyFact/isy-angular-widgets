<p-dialog
  [header]="headerTitle"
  [(visible)]="isVisible"
  [modal]="modal"
  [closable]="closable"
  [draggable]="draggable"
  [style]="{
    width: width + 'vw',
    height: height + 'vw'
  }"
  (visibleChange)="isVisibleChange.emit($event)"
>
  <p-steps [model]="items" [(activeIndex)]="index"> </p-steps>

  <ng-container [ngTemplateOutlet]="this.content!.get(index)!.templateRef"></ng-container>

  <ng-template pTemplate="footer">
    <div class="flex justify-content-end flex-wrap card-container">
      <button
        *ngIf="!isSaved"
        id="back-button"
        pButton
        [class]="'flex align-items-center justify-content-center mr-2'"
        [disabled]="index === 0"
        (click)="move(false)"
      >
        {{ labelBackButton }}
      </button>

      <button
        *ngIf="!isSaved"
        id="next-button"
        pButton
        [class]="'flex align-items-center justify-content-center mr-4'"
        [disabled]="index === items.length - 1 || !allowNext"
        (click)="move(true)"
      >
        {{ labelNextButton }}
      </button>

      <button
        *ngIf="index === items.length - 1 && !isSaved"
        id="save-button"
        pButton
        [class]="'flex align-items-center justify-content-center'"
        [disabled]="(index !== items.length - 1 || !allowNext) && !isSaved"
        (click)="save(true)"
      >
        {{ labelSaveButton }}
      </button>

      <button
        id="close-button"
        pButton
        [class]="'flex align-items-center justify-content-center'"
        [disabled]="isSaved && !closable"
        (click)="closeDialog()"
      >
        {{ labelCloseButton }}
      </button>
    </div>
  </ng-template>
</p-dialog>
